<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Passport Control System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />

    <link
      rel="stylesheet"
      href="css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="css/font-awesome.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/boxicons.css" />
    <script src="js/html2canvas.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/jquery.inview.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- <script src="js/jquery.table2excel.js"></script> -->
    <script>
      var busterCall = [
        "js/individual.js",
        "css/index.css",
        "css/bootstrap.min.css",
      ];
      $.post(
        "php/get_version.php",
        {
          busterCall: busterCall,
          titleName: "Passport Control System",
        },
        function (data) {
          $("head").html(data);
        }
      );
    </script>
  </head>

  <!-- #region modal -->
  <div
    class="modal fade"
    id="deleteEntry"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">
            Delete Entry
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <p class="mb-2">
            Are you sure you want to delete
            <span class="fw-semibold" id="selectedEmp"></span>'s Japan Dispatch
            entry
            <span class="fw-semibold"
              >no. <span id="storeId" del-id="0"></span
            ></span>
            ?
          </p>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-cancel btn-secondary">
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-danger fw-medium"
            id="btn-deleteEntry"
          >
            Delete
          </button>
        </div>
      </div>
    </div>
  </div>


  <div
  class="modal fade"
  id="editEntry"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Edit Entry</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div class="d-grid">
          <div class="row mb-2">
            <label
              for="editentryLocation"
              class="col-sm-4 col-form-label col-form-label-sm"
              >Location</label
            >
            <div class="col-sm-8">
              <select class="form-select" id="editentryLocation">
                <option value="1">Kobe</option>
                <option value="2">Tokyo</option>
              </select>
            </div>
          </div>
          <div class="row mb-2">
            <label
              for="editentryDateJ"
              class="col-sm-4 col-form-label col-form-label-sm"
              >Date to Japan</label
            >
            <div class="col-sm-8">
              <input type="date" class="form-control" id="editentryDateJ" />
            </div>
          </div>
          <div class="row mb-2">
            <label
              for="editentryDateP"
              class="col-sm-4 col-form-label col-form-label-sm"
              >Date to PH</label
            >
            <div class="col-sm-8">
              <input type="date" class="form-control" id="editentryDateP" />
            </div>
          </div>
          <div class="row mb-2">
            <label
              for="editentryDays"
              class="col-sm-4 col-form-label col-form-label-sm"
              >No. of Days</label
            >
            <div class="col-sm-8 d-flex align-items-center">
              <span id="editentryDays" class="fw-medium fs-5">0</span>
            </div>
          </div>
          <div class="row mb-2">
            <label
              for="editentryPYear"
              class="col-sm-4 col-form-label col-form-label-sm"
              >Total Days Past 1 Year</label
            >
            <div class="col-sm-8 d-flex align-items-center">
              <span id="editentryPYear" class="fw-medium fs-5">0</span>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-cancel btn-secondary">
          Cancel
        </button>
        <button
          type="button"
          class="btn btn-success fw-medium"
          id="btn-saveEntry"
        >
          Save
        </button>
      </div>
    </div>
  </div>
</div>
  <!-- #endregion modal-->

  <body>
    <div class="home-content position-relative d-flex">
      <div class="navigation">
        <div
          class="title p-3 d-flex justify-content-between align-items-center"
        >
          <h5 class="fw-semibold text-center">Passport Control System</h5>
          <div
            id="closeNav"
            class="justify-content-center align-items-center m-0"
          >
            <i class="bx bx-x fs-3"></i>
          </div>
        </div>
        <nav>
          <ul class="list-unstyled d-grid gap-2">
            <a href="../"
              ><li>
                <div class="d-flex align-items-center gap-2">
                  <i class="bx bxs-dashboard fs-5"></i>
                  <p>Dashboard</p>
                </div>
              </li></a
            >
            <a href="#"
              ><li class="active">
                <div class="d-flex align-items-center gap-2">
                  <i class="bx bxs-briefcase fs-5"></i>
                  <p>Manage Dispatch</p>
                </div>
              </li></a
            >
            <a href="../empList/"
              ><li>
                <div class="d-flex align-items-center gap-2">
                  <i class="bx bxs-group fs-5"></i>
                  <p>Employee List</p>
                </div>
              </li></a
            >
            <!-- <a href="#"
              ><li>
                <div class="d-flex align-items-center gap-2">
                  <i class="bx bx-history fs-5"></i>
                  <p>History Logs</p>
                </div>
              </li></a
            > -->
          </ul>
        </nav>
      </div>
      <div class="content">
        <!-- <div
          class="topbar shadow-sm d-flex justify-content-end align-items-center px-3"
        >
          <h5 class="user m-0">Hello, Joshua</h5>
        </div> -->
        <div class="pageTitle w-100 gap-3 d-flex">
          <div id="menu">
            <i class="bx bx-menu-alt-left fs-3"></i>
          </div>
          <h1 class="fw-semibold m-0">Employee Dispatch Management</h1>
        </div>
        <div class="main w-100 d-flex">
          <!-- <div class="w-100 d-flex px-3 back">
            <a href="../" class="d-flex align-items-center">
              <i class="bx bx-arrow-back fs-5"></i>
              <span class="ps-2">Go back to Dashboard</span>
            </a>
          </div> -->

          <div class="left">
            <div class="">
              <div class="mb-3 row">
                <label for="" class="col-sm-3 col-form-label">Group</label>
                <div class="col-sm-9">
                  <select
                    name=""
                    class="form-select form-select-sm"
                    id="grpSel"
                  >
                    <option value="">SYS</option>
                    <option value="">SYS1</option>
                    <option value="">SYS2</option>
                  </select>
                </div>
              </div>
              <div class="mb-3 row">
                <label for="" class="col-sm-3 col-form-label">Name</label>
                <div class="col-sm-9">
                  <select
                    name=""
                    class="form-select form-select-sm"
                    id="empSel"
                  >
                    <option value="">Collene Medrano</option>
                    <option value="">Kit Medrano</option>
                    <option value="">Kwinkad</option>
                  </select>
                </div>
              </div>
              <div class="mb-3 row">
                <label for="" class="col-sm-3 col-form-label">Location</label>
                <div class="col-sm-9">
                  <select
                    name=""
                    class="form-select form-select-sm"
                    id="locSel"
                  >
                    <option value="0" hidden>Kobe</option>
                    <option value="">Koba</option>
                  </select>
                </div>
              </div>
              <div class="mb-3 row">
                <label for="" class="col-sm-3 col-form-label"
                  >Date to Japan</label
                >
                <div class="col-sm-9">
                  <div class="h-100 d-flex align-items-center">
                    <input
                      type="date"
                      class="form-control form-control-sm ddates"
                      id="startDate"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-3 row">
                <label for="" class="col-sm-3 col-form-label"
                  >Date to Philippines</label
                >
                <div class="col-sm-9">
                  <div class="h-100 d-flex align-items-center">
                    <input
                      type="date"
                      class="form-control form-control-sm ddates"
                      id="endDate"
                    />
                  </div>
                </div>
              </div>
              <div class="mb-3 row">
                <label for="" class="col-sm-3 col-form-label">Total days</label>
                <div class="col-sm-9">
                  <h5
                    class="d-flex align-items-center h-100"
                    id="daysCount"
                  ></h5>
                </div>
              </div>

             
            </div>
            <div class="d-flex justify-content-end gap-2">
              <button class="btn btn-clear">Clear</button>
              <button class="btn btn-dispatch" id="btnApply">
                Add dispatch entry
              </button>
            </div>
          </div>
          <div class="right">
            <div class="d-flex withContent d-none flex-column gap-3 h-100">
              <div
                class="empDetails d-flex justify-content-between align-items-center"
              >
                <div>
                  <span>Employee No. <span id="empDetails__id">487</span></span>

                  <h5 id="empDetails__name">Employee Name</h5>
                </div>

                <div>
                  <button
                    class="btn btn-updateEmp d-flex align-items-center gap-1"
                    id="updateEmp"
                  >
                    <i class="bx bxs-edit"></i>
                    <span>Update Employee Details</span>
                  </button>
                </div>
              </div>
              <div class="d-flex flex-column empmoreDetails h-100 gap-3 overflow-auto">
                <div class="cards d-grid">
                  <div class="card shadow-sm">
                    <div class="card-body">
                      <h5 class="card-title">Latest Passport</h5>
                
                      <div class="card-content">
                        <div id="passDeets" class="pass d-none">
                          <div class="row">
                            <label for="passStatus" class="col-5 col-form-label"
                              >Validity</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="badge bg-success">Valid</span>
                            </div>
                          </div>
                          <div class="row">
                            <label for="passNo" class="col-5 col-form-label"
                              >Passport no.</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="" id="passNo">P6241898A</span>
                            </div>
                          </div>
                          <div class="row">
                            <label for="passBday" class="col-5 col-form-label"
                              >Birth date</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="" id="passBday">1983/12/24</span>
                            </div>
                          </div>
                          <div class="row">
                            <label for="passIssue" class="col-5 col-form-label"
                              >Date issue</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="" id="passIssue">3/1/2018</span>
                            </div>
                          </div>
                          <div class="row">
                            <label for="passExp" class="col-5 col-form-label"
                              >Valid until</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="" id="passExp">2/29/2028</span>
                            </div>
                          </div>
                        </div>
                        <div
                          id="passEmpty"
                          class="emptyState-pass w-100 p-3 d-flex justify-content-center align-items-center flex-column"
                          style="opacity: 0.25"
                        >
                          <img
                            src="../images/passport.png"
                            alt=""
                            style="width: 100px"
                          />
                          <span class="fw-semibold p-3">No Passport Found</span>
                        </div>
                      </div>
                    </div>
                  </div>
                
                  <div class="card shadow-sm">
                    <div class="card-body">
                      <h5 class="card-title">Latest Japan Visa</h5>
                
                      <div class="card-content">
                        <div id="visaDeets" class="vis d-none">
                          <div class="row">
                            <label for="visaStatus" class="col-5 col-form-label"
                              >Validity</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="badge bg-danger" id="visaStatus"
                                >Expired</span
                              >
                            </div>
                          </div>
                
                          <div class="row">
                            <label for="visaNo" class="col-5 col-form-label"
                              >Visa no.</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="" id="visaNo">P6241898A</span>
                            </div>
                          </div>
                
                          <div class="row">
                            <label for="visaIssue" class="col-5 col-form-label"
                              >Date Issue</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="" id="visaIssue">2/29/2028</span>
                            </div>
                          </div>
                          <div class="row">
                            <label for="visaExp" class="col-5 col-form-label"
                              >Valid until</label
                            >
                            <div class="col-7 d-flex align-items-center">
                              <span class="" id="visaExp">2/29/2028</span>
                            </div>
                          </div>
                        </div>
                        <div
                          id="visaEmpty"
                          class="emptyState-visa w-100 p-3 d-flex justify-content-center align-items-center flex-column"
                        >
                          <img
                            src="../images/visa.png"
                            alt=""
                            style="width: 100px"
                          />
                          <span class="fw-semibold p-3">No Visa found</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="card shadow-sm">
                    <div class="card-body">
                      <h5 class="card-title text-capitalize">Total dispatch days per year</h5>
                
                      <div class="card-content">
                        <div class="dispatchyears-table w-100">
                          <ul class="list-unstyled gap-3 d-grid p-2">
                            <li>
                              <div class="d-flex justify-content-between align-items-center">
                                <span class="fw-medium">Last Year (<span id="y1">2023</span>)</span>
                                <span class="totalDays" id="y1-days">269</span>
                              </div>
                            </li>
                            <li>
                              <div class="d-flex justify-content-between align-items-center">
                                <span class="fw-medium">This Year (<span id="y2">2024</span>)</span>
                                <span class="totalDays" id="y2-days">213</span>
                              </div>
                            </li>
                            <li>
                              <div class="d-flex justify-content-between align-items-center">
                                <span class="fw-medium">This Year (<span id="y3">2025</span>)</span>
                                <span class="totalDays" id="y3-days">210</span>
                              </div>
                            </li>
                          </ul>
                        
                        </div>
                      </div>
                    </div>
                  </div>
                
                </div>
                <div class="d-flex totalThisYear flex-column shadow-sm gap-3 p-3">
                  <div class="label">
                    Estimated Total Days of Dispatch this Year
                  </div>
                  <div>
                    <div class="count" id="rangeCount">0 days</div>
                    <!-- <div class="progress" role="progressbar">
                       <div
                         class="progress-bar progress-bar-striped bg-success"
                         style="width: 49%"
                       ></div>
                     </div> -->
                    <div class="prog-cont">
                      <div class="progress mb-1" role="progressbar">
                        <div
                          id="progBar"
                          class="progress-bar progress-bar-striped bg-danger"
                          style="width: 0%"
                        ></div>
                      </div>
                      <small id="daysWarning" class="d-none"
                        ><i
                          class="bx bx-error-circle"
                          style="vertical-align: middle"
                        ></i
                        ><span class="ps-1"
                          >Warning: Total dispatch days will exceed 183 days for
                          this year.</span
                        ></small
                      >
                    </div>
                  </div>
                </div>
                <div class="dispatch-hist">
                  <div class="top d-flex justify-content-between">
                    <div class="title pb-4">Dispatch History to Japan</div>
                    <div>
                      <button class="btn btn-success">Export table</button>
                    </div>
                  </div>
                  <div class="table-cont overflow-auto">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>No.</th>
                          <th>Location</th>
                          <th>Date to Japan</th>
                          <th>Date to Philippines</th>
                          <th>No. of Days</th>
                          <th>Total Days past 1 year</th>
                
                          <th></th>
                        </tr>
                      </thead>
                      <tbody id="dList">
                        <tr>
                          <td colspan="7" class="text-center">No data found</td>
                        </tr>
                        <!-- <tr>
                            <td>1</td>
                            <td>Kobe</td>
                            <td>07 AUG 2023</td>
                            <td>20 NOV 2023</td>
                            <td>105</td>
                            <td>105</td>
                            <td>
                              <div class="d-flex gap-2">
                              <button
                                class="btn-delete"
                                title="Delete Entry"
                                data-bs-toggle="modal"
                                data-bs-target="#deleteEntry"
                              >
                                <i class="bx bx-trash fs-5" ></i>
                              </button>
                            </div>
                            </td>
                            
                          </td>
                          </tr> -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="emptyState h-100 d-flex justify-content-center align-items-center flex-column gap-2 pb-5"
            >
              <i class="bx bxs-user-rectangle"></i>
              <div class="title fw-semibold fs-5">No details to view</div>
              <div class="text">Please select an employee to view details.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
