<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Passport Control System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />

    <link
      rel="stylesheet"
      href="css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="css/font-awesome.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/boxicons.css" />
    <script src="js/html2canvas.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/jquery.inview.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- <script src="js/jquery.table2excel.js"></script> -->
    <script>
      var busterCall = [
        "js/individual.js",
        "css/index.css",
        "css/bootstrap.min.css",
      ];
      $.post(
        "php/get_version.php",
        {
          busterCall: busterCall,
          titleName: "Passport Control System",
        },
        function (data) {
          $("head").html(data);
        }
      );
    </script>
  </head>

  <!-- #region modal -->
  <div
    class="modal fade"
    id="updatePass"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">
            Update Passport
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body d-flex gap-3 flex-lg-row flex-column">
          <div style="width: 350px" class="kaliwa">
            <div class="row mb-2">
              <label for="upPassNo" class="col-4 col-form-label"
                >Passport No.</label
              >
              <div class="col-8">
                <input
                  type="text"
                  class="form-control form-control-sm"
                  id="upPassNo"
                  disabled
                />
              </div>
            </div>
            <div class="row mb-2">
              <label for="upPassBday" class="col-4 col-form-label"
                >Birth date</label
              >
              <div class="col-8">
                <input
                  type="date"
                  class="form-control form-control-sm"
                  id="upPassBday"
                  disabled
                />
              </div>
            </div>
            <div class="row mb-2">
              <label for="upPassIssue" class="col-4 col-form-label"
                >Date Issue</label
              >
              <div class="col-8">
                <input
                  type="date"
                  class="form-control form-control-sm ddates pass"
                  id="upPassIssue"
                  disabled
                />
              </div>
            </div>
            <div class="row mb-2">
              <label for="upPassExp" class="col-4 col-form-label"
                >Valid Until</label
              >
              <div class="col-8">
                <input
                  type="date"
                  class="form-control form-control-sm ddates pass"
                  id="upPassExp"
                  disabled
                />
              </div>
            </div>
            <div class="row attach d-none">
              <label for="upPassAttach" class="col-4 col-form-label"
                >Attachment</label
              >
              <div class="col-8">
                <input
                  type="file"
                  class="form-control form-control-sm"
                  id="upPassAttach"
                  disabled
                />
              </div>
            </div>
          </div>
          <div
            class="kanan"
            style="
              width: calc(100% - 350px);
              background-color: whitesmoke;
              border-radius: 6px;
            "
          >
            <label id="pAttach" class="p-2">Attachment</label>
            <div style="height: 300px; width: 100%">
              <div
                class="d-flex w-100 h-100 flex-column gap-3 justify-content-center align-items-center d-none"
                style="opacity: 0.75"
                id="noAttachPass"
              >
                <i class="bx bxs-inbox" style="font-size: 80px"></i>
                <span>No attachment found.</span>
              </div>
              <div id="wAttachPass" class="w-100 h-100">
                <!-- Example of embedding a PDF using an iframe -->
                <iframe
                  src=""
                  width="100%"
                  height="100%"
                  id="passAttachView"
                ></iframe>
              </div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-cancel btn-secondary">
            Cancel
          </button>
          <button type="button" class="btn btn-update" id="btn-updatePass">
            Update Passport
          </button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="updateVisa"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">Update Visa</h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body d-flex gap-3 flex-lg-row flex-column">
          <div style="width: 350px" class="kaliwa">
            <div class="row mb-2">
              <label for="upVisaNo" class="col-4 col-form-label"
                >Visa No.</label
              >
              <div class="col-8">
                <input
                  type="text"
                  class="form-control form-control-sm"
                  id="upVisaNo"
                  disabled
                />
              </div>
            </div>

            <div class="row mb-2">
              <label for="upVisaIssue" class="col-4 col-form-label">
                Date Issue
              </label>
              <div class="col-8">
                <input
                  type="date"
                  class="form-control form-control-sm ddates vsa"
                  id="upVisaIssue"
                  disabled
                />
              </div>
            </div>
            <div class="row mb-2">
              <label for="upVisaExp" class="col-4 col-form-label"
                >Valid Until</label
              >
              <div class="col-8">
                <input
                  type="date"
                  class="form-control form-control-sm ddates vsa"
                  id="upVisaExp"
                  disabled
                />
              </div>
            </div>
            <div class="row attach d-none">
              <label for="upVisaAttach" class="col-4 col-form-label"
                >Change Attachment</label
              >
              <div class="col-8">
                <input
                  type="file"
                  class="form-control form-control-sm"
                  id="upVisaAttach"
                  disabled
                />
              </div>
            </div>
          </div>
          <div
            class="kanan"
            style="
              width: calc(100% - 350px);
              background-color: whitesmoke;
              border-radius: 6px;
            "
          >
            <label id="vAttach" class="p-2">Attachment</label>
            <div style="height: 300px; width: 100%">
              <div
                class="d-flex w-100 h-100 flex-column gap-3 justify-content-center align-items-center d-none"
                style="opacity: 0.75"
                id="noAttachVisa"
              >
                <i class="bx bxs-inbox" style="font-size: 80px"></i>
                <span>No attachment found.</span>
              </div>
              <div id="wAttachVisa" class="w-100 h-100">
                <!-- Example of embedding a PDF using an iframe -->
                <iframe
                  src=""
                  width="100%"
                  height="100%"
                  id="visaAttachView"
                ></iframe>
              </div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-cancel btn-secondary">
            Cancel
          </button>
          <button type="button" class="btn btn-update" id="btn-updateVisa">
            Update Visa
          </button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="changeDispatchStatus"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">
            Change Dispatch Status
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <p class="mb-2">
            Please select dispatch status for
            <span id="disModalEmpName" class="fw-semibold"
              >Joshua Mari Coquia</span
            >.
          </p>
          <select class="form-select" id="dispatchStatus">
            <option value="1" class="text-success fw-medium">
              For Dispatch
            </option>
            <option value="0" class="text-danger fw-medium">
              Non Dispatch
            </option>
          </select>
        </div>

        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-cancel btn-secondary"
            id="cancelStat"
          >
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-update fw-medium"
            id="btn-saveDisStat"
          >
            Save Dispatch Status
          </button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="deleteEntry"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">
            Delete Entry
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <p class="mb-2">
            Are you sure you want to delete this Japan Dispatch entry
            <span class="fw-semibold"
              >no. <span id="storeId" del-id="0"></span
            ></span>
            ?
          </p>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-cancel btn-secondary">
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-danger fw-medium"
            id="btn-deleteEntry"
          >
            Delete
          </button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="editEntry"
    data-bs-backdrop="static"
    data-bs-keyboard="false"
    tabindex="-1"
    aria-labelledby="staticBackdropLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">Edit Entry</h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div class="d-grid">
            <div class="row mb-2">
              <label
                for="editentryLocation"
                class="col-sm-4 col-form-label col-form-label-sm"
                >Location</label
              >
              <div class="col-sm-8">
                <select class="form-select" id="editentryLocation">
                  <option value="1">Kobe</option>
                  <option value="2">Tokyo</option>
                </select>
              </div>
            </div>
            <div class="row mb-2">
              <label
                for="editentryDateJ"
                class="col-sm-4 col-form-label col-form-label-sm"
                >Date to Japan</label
              >
              <div class="col-sm-8">
                <input type="date" class="form-control edit-date" id="editentryDateJ" />
              </div>
            </div>
            <div class="row mb-2">
              <label
                for="editentryDateP"
                class="col-sm-4 col-form-label col-form-label-sm"
                >Date to PH</label
              >
              <div class="col-sm-8">
                <input type="date" class="form-control edit-date" id="editentryDateP" />
              </div>
            </div>
            <div class="row mb-2">
              <label
                for="editentryDays"
                class="col-sm-4 col-form-label col-form-label-sm"
                >No. of Days</label
              >
              <div class="col-sm-8 d-flex align-items-center">
                <span id="editentryDays" class="fw-medium fs-5">0</span>
              </div>
            </div>
            <!-- <div class="row mb-2">
              <label
                for="editentryPYear"
                class="col-sm-4 col-form-label col-form-label-sm"
                >Total Days Past 1 Year</label
              >
              <div class="col-sm-8 d-flex align-items-center">
                <span id="editentryPYear" class="fw-medium fs-5">0</span>
              </div>
            </div> -->
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-cancel btn-secondary">
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-success fw-medium"
            id="btn-saveEntry"
            e-id="0"
          >
            Save
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- #endregion modal-->

  <body>
    <div class="home-content position-relative d-flex">
      <div class="navigation">
        <div
          class="title p-3 d-flex justify-content-between align-items-center"
        >
          <h5 class="fw-semibold text-center">Passport Control System</h5>
          <div
            id="closeNav"
            class="justify-content-center align-items-center m-0"
          >
            <i class="bx bx-x fs-3"></i>
          </div>
        </div>
        <nav>
          <ul class="list-unstyled d-grid gap-2">
            <a href="../"
              ><li>
                <div class="d-flex align-items-center gap-2">
                  <i class="bx bxs-dashboard fs-5"></i>
                  <p>Dashboard</p>
                </div>
              </li></a
            >
            <a href="../checkAvailability/"
              ><li>
                <div class="d-flex align-items-center gap-2">
                  <i class="bx bxs-briefcase fs-5"></i>
                  <p>Manage Dispatch</p>
                </div>
              </li></a
            >
            <a href="../empList/"
              ><li class="active">
                <div class="d-flex align-items-center gap-2">
                  <i class="bx bxs-group fs-5"></i>
                  <p>Employee List</p>
                </div>
              </li></a
            >
            <a href="../report/"
            ><li>
              <div class="d-flex align-items-center gap-2">
                <i class='bx bxs-report' ></i>
                <p>Report</p>
              </div>
            </li></a
          >
            <!-- <a href="#"
              ><li>
                <div class="d-flex align-items-center gap-2">
                  <i class="bx bx-history fs-5"></i>
                  <p>History Logs</p>
                </div>
              </li></a
            > -->
          </ul>
        </nav>
      </div>
      <div class="content">
        <!-- <div
          class="topbar shadow-sm d-flex justify-content-end align-items-center px-3"
        >
          <h5 class="user m-0">Hello, Joshua</h5>
        </div> -->
        <div class="pageTitle w-100 gap-3 d-flex">
          <div id="menu">
            <i class="bx bx-menu-alt-left fs-3"></i>
          </div>
          <h1 class="fw-semibold m-0">Employee Details</h1>
        </div>

        <div class="main w-100">
          <div class="w-100 d-flex px-3 back">
            <a href="../empList/" class="d-flex align-items-center">
              <i class="bx bx-arrow-back fs-5"></i>
              <span class="ps-2">Go back to Employee List</span>
            </a>
          </div>
          <div
            class="p-3 d-flex gap-3 contents"
            style="height: calc(100% - 72px)"
          >
            <div class="left d-flex gap-4 flex-column h-100">
              <div class="top d-flex gap-3">
                <div class="pic">
                  <img src="" alt="employee pic" id="empPic" />
                </div>

                <div class="personal d-flex flex-column">
                  
                  <div class="empId">Employee Id. <span id="empId"></span></div>

                  <div class="empName">
                    <div class="surname text-uppercase fw-bold"></div>
                    <div class="givenname"></div>
                  </div>
                </div>
              </div>
              <div class="mid d-flex">
                <div
                  class="d-flex totalThisYear flex-column shadow-sm gap-3 p-3 w-100"
                >
                  <div class="label fw-medium">
                    Total Days of Dispatch this Year
                  </div>
                  <div>
                    <div class="count" id="dCount">0 days</div>

                    <div class="prog-cont">
                      <div class="progress mb-1" role="progressbar">
                        <div
                          id="progBar"
                          class="progress-bar progress-bar-striped bg-danger"
                          style="width: 0%"
                        ></div>
                      </div>
                      <small id="daysWarning" class="d-none"
                        ><i
                          class="bx bx-error-circle"
                          style="vertical-align: middle"
                        ></i
                        ><span class="ps-1"
                          >Warning: Total dispatch days already exceeded 183
                          days for this year.</span
                        ></small
                      >
                    </div>
                  </div>
                </div>
              </div>
              <div class="bot d-flex flex-column">
                <div
                  class="d-flex justify-content-between align-items-center header"
                >
                  <div class="title">Japan Dispatch History</div>
                  <div>
                    <button class="btn btn-success" id="btnExport">Export table</button>
                  </div>
                </div>
                <div class="table-cont overflow-auto">
                  <table class="table" id="histTable">
                    <thead class="sticky-top">
                      <tr>
                        <th data-exclude="true" data-b-a-s="thin">No.</th>
                        <th  data-f-name="Arial" data-f-sz="9" data-f-bold="true" data-a-h="center" data-a-v="middle" 	data-b-a-s="thin" data-b-a-c="000000">Location</th>
                        <th data-f-name="Arial" data-f-sz="9" data-f-bold="true" data-a-h="center" data-a-v="middle" 	data-b-a-s="thin" data-b-a-c="000000">Date to Japan</th>
                        <th data-f-name="Arial" data-f-sz="9" data-f-bold="true" data-a-h="center" data-a-v="middle" 	data-b-a-s="thin" data-b-a-c="000000">Date to Philippines</th>
                        <th data-f-name="Arial" data-f-sz="9" data-f-bold="true" data-a-h="center" data-a-v="middle" 	data-b-a-s="thin" data-b-a-c="000000">No. of Days</th>

                        <th data-f-name="Arial" data-f-sz="9" data-f-bold="true" data-a-h="center" data-a-v="middle" 	data-b-a-s="thin" data-b-a-c="000000">Total Days past 1 year</th>
                        <th data-exclude="true"></th>
                      </tr>
                    </thead>
                    <tbody id="dList"></tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="right d-flex gap-3">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title text-capitalize">Total dispatch days per year</h5>

                  <div class="card-content">
                    <ul class="list-unstyled gap-3 d-grid m-0">
                      <li>
                        <div class="d-flex justify-content-between align-items-center">
                          <span class="fw-medium">Previous Year (<span id="y1">2023</span>)</span>
                          <span class="totalDays" id="y1-days">269</span>
                        </div>
                      </li>
                      <li>
                        <div class="d-flex justify-content-between align-items-center">
                          <span class="fw-medium">Current Year (<span id="y2">2024</span>)</span>
                          <span class="totalDays" id="y2-days">213</span>
                        </div>
                      </li>
                      <li>
                        <div class="d-flex justify-content-between align-items-center">
                          <span class="fw-medium">Next Year (<span id="y3">2025</span>)</span>
                          <span class="totalDays" id="y3-days">210</span>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              
              </div><div class="card">
                <div class="card-body">
                  <h5 class="card-title">Latest Passport</h5>

                  <div class="card-content">
                    <div id="passDeets" class="pass d-none">
                      <div class="row">
                        <label for="passStatus" class="col-4 col-form-label"
                          >Validity</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <!-- <span class="badge bg-success" id="passStatus">Valid</span> -->
                          <span class="badge bg-danger" id="passStatus"
                            >Expired</span
                          >
                        </div>
                      </div>
                      <div class="row">
                        <label for="passNo" class="col-4 col-form-label"
                          >Passport no.</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <span class="" id="passNo"></span>
                        </div>
                      </div>
                      <div class="row">
                        <label for="passBday" class="col-4 col-form-label"
                          >Birth date</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <span class="" id="passBday"></span>
                        </div>
                      </div>
                      <div class="row">
                        <label for="passIssue" class="col-4 col-form-label"
                          >Date issue</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <span class="" id="passIssue"></span>
                        </div>
                      </div>
                      <div class="row">
                        <label for="passExp" class="col-4 col-form-label"
                          >Valid until</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <span class="" id="passExp"></span>
                        </div>
                      </div>
                    </div>
                    <div
                      id="passEmpty"
                      class="emptyState-pass w-100 p-3 d-flex justify-content-center align-items-center flex-column"
                    >
                      <img
                        src="../images/passport.png"
                        alt=""
                        style="width: 100px"
                      />
                      <span class="fw-semibold p-3">No Passport found.</span>
                    </div>
                  </div>
                </div>
                <div
                  class="editThis"
                  data-bs-target="#updatePass"
                  data-bs-toggle="modal"
                >
                  <i class="bx bx-refresh"></i>
                  <h1>Update Passport</h1>
                </div>
              </div>
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Latest Japan Visa</h5>

                  <div class="card-content">
                    <div id="visaDeets" class="visd-none">
                      <div class="row">
                        <label for="visaStatus" class="col-4 col-form-label"
                          >Validity</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <span class="badge bg-danger" id="visaStatus"
                            >Expired</span
                          >
                        </div>
                      </div>

                      <div class="row">
                        <label for="visaNo" class="col-4 col-form-label"
                          >Visa no.</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <span class="" id="visaNo"></span>
                        </div>
                      </div>

                      <div class="row">
                        <label for="visaIssue" class="col-4 col-form-label"
                          >Date Issue</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <span class="" id="visaIssue"></span>
                        </div>
                      </div>
                      <div class="row">
                        <label for="visaExp" class="col-4 col-form-label"
                          >Valid until</label
                        >
                        <div class="col-8 d-flex align-items-center">
                          <span class="" id="visaExp"></span>
                        </div>
                      </div>
                    </div>
                    <div
                      id="visaEmpty"
                      class="emptyState-visa w-100 p-3 d-flex justify-content-center align-items-center flex-column"
                    >
                      <img
                        src="../images/visa.png"
                        alt=""
                        style="width: 100px"
                      />
                      <span class="fw-semibold p-3">No Visa found.</span>
                    </div>
                  </div>
                </div>
                <div
                  class="editThis"
                  data-bs-target="#updateVisa"
                  data-bs-toggle="modal"
                >
                  <i class="bx bx-refresh"></i>
                  <h1>Update Visa</h1>
                </div>
              </div>

              
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
